link(rel="stylesheet", href="../css/table-base.css")
section.table-container
  section.BD
    div.formFilters
      form(id="formFilters" class="formFilters") 
        label Nombre
          input(type="text" placeholder="Filtrar por nombre" name="name")
        label Numero expediente
          input(type="text" placeholder="Filtrar por # Expediente" name="expedient")
        button(type="submit" class="btnSearch") Buscar
    div.register-container
      div.register
        button(type="button" ,class="button button-active-form register")
          span.button__text Registrar
          span(class="button__icon button-active-form register") 
            svg(xmlns="http://www.w3.org/2000/svg", width="24" viewBox="0 0 24 24",
                stroke-width="2", stroke-linejoin="round", stroke-linecap="round", stroke="currentColor" ,height="24",
                fill="none", class="svg button-active-form")
                line(y2="19", y1="5", x2="12", x1="12")
                line(y2="12", y1="12" ,x2="19", x1="5")

    table.table
      thead
        tr
          th.icon-table 
            img(src="../assets/img/bookmark-solid.svg" alt="")
          th Expediente
          th Nombre
          th Serie
          th Pasillo
          th Estante
          th Caja 
          th Estado

          th Opciones

        -var expedientes=expedientes;
        -var contador = 1;
        
      tbody#tbody
        each expediente in expedientes
          tr.tr-filter 
            td=contador ++
            td=expediente.numero_expediente
            td=expediente.nombre_expediente
            td=expediente.nombre_serie
            td=expediente.numero_pasillo
            td=expediente.estante
            td=expediente.caja
            td  
              if expediente.estado_organizativo
                span(class="organizado") Organizado 
              else if !expediente.estado_organizativo
                span(class="sinorganizar") Pendiente
            td.button-container
              button
                img(src="../../assets/img/edit.svg", alt="icon edit", class="edit icon-edit"
                  data-id=expediente.id_expediente, 
                  data-expediente=expediente.numero_expediente
                  data-nombre=expediente.nombre_expediente
                  data-serie=expediente.nombre_serie
                  data-pasillo=expediente.numero_pasillo
                  data-estante=expediente.estante
                  data-caja=expediente.caja
                  data-estado=expediente.estado_organizativo)

              button(data-id=expediente.expediente_id , td=expediente.expediente)
                img(src="../../assets/img/delete.svg", alt="icon delete", class="delete icon-delete" , data-id=expediente.id_expediente)

div.buttonsPages
    -var pages = pages
    -for(var i = 1; i <= pages; i++ )
      div.pageIndex(id=i)= i
      
